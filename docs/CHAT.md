# 智能客服（DeepSeek）

官网右下角「智能客服」浮窗接入 DeepSeek 大模型，用于回答访客关于公司、产品与服务的简单问题。

## 配置

1. 在 [DeepSeek 开放平台](https://platform.deepseek.com/) 注册并获取 API Key。
2. 在项目根目录 `.env` 中增加（或部署环境变量中配置）：

```bash
DEEPSEEK_API_KEY=sk-xxxxxxxx
```

3. 重启开发服务或重新部署后，智能客服即可使用。未配置时，访客发送消息会收到「智能客服未配置」的提示。

## 行为说明

- 系统提示词中已写入公司简介、产品与服务、解决方案、联系方式等，模型会据此回答。
- 复杂需求（报价、定制方案等）会引导用户使用「免费咨询」或电话/QQ。
- 对话历史会随当前会话保留在浏览器中，关闭浮窗不会清空，刷新页面会重置。

## 接口

- **POST /api/chat**  
  - Body: `{ "messages": [ { "role": "user"|"assistant", "content": "..." } ] }`  
  - 首条可省略 system，服务端会自动注入客服系统提示词。  
  - 返回: `{ "content": "..." }` 或 `{ "error": "..." }`（4xx/5xx 时）。
